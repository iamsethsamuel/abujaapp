(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[322],{2294:function(e,r,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cake/[id]",function(){return c(7967)}])},7967:function(e,r,c){"use strict";c.r(r),c.d(r,{default:function(){return u}});var n=c(5893),a=c(7294),i=c(2672),o=c(1438),d=c(8484),l=c(381),t=[{color:"white",price:10},{color:"red",price:20},{color:"blue",price:30},{color:"brown",price:40}],s=[{size:"XL",price:10},{size:"MD",price:20},{size:"SM",price:30}];function u(e){var r=(0,a.useContext)(d.Context),c=(0,a.useState)(),u=c[0],p=c[1],m=(0,a.useState)({size:"XL",price:10}),h=m[0],x=m[1],f=(0,a.useState)({color:"brown",price:40}),b=f[0],w=f[1],g=(0,a.useState)(l().add(1,"days")),v=g[0],j=g[1];return(0,a.useEffect)((function(){(0,o.A_)(document.location.pathname).then((function(e){document.title=e.data.name,p(e.data)})).catch((function(e){console.log(e),r.showSnackBar("Sorry an error occurred")}))}),[r]),u?(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4",children:[(0,n.jsx)("div",{children:(0,n.jsx)(i.Zb,{cake:u})}),(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"w-full h-full max-w-xs max-w-lg max-w-xl p-4 bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",children:[(0,n.jsxs)("p",{className:"bold text-xl",children:["Total Order price is: ",b.price+h.price+u.price," NGN and will be delivered"," "+v.fromNow()]}),(0,n.jsx)("div",{className:"grid grid-cols-4 p-5",children:t.map((function(e){return(0,n.jsx)(i.zx,{text:!0,style:{color:b.color!=e.color?"grey":""},onClick:function(){w(e),j(l().add((e.price+h.price)/10,"days"))},children:e.color.toUpperCase()},e.color)}))}),(0,n.jsx)("div",{className:"grid grid-cols-4 p-5",children:s.map((function(e){return(0,n.jsx)(i.zx,{text:!0,style:{color:h.size!==e.size?"grey":""},onClick:function(){x(e),j(l().add((e.price+b.price)/10,"days"))},children:e.size},e.size)}))}),(0,n.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),16===document.getElementById("cardnumber").value.length)if(3===document.getElementById("cvc").value.length){r.showLoader();var c=new FormData(e.target),n={size:h,color:b,date:v.toDate(),price:b.price+h.price+u.price,cake:u._id};c.forEach((function(e,r){n[r]=e})),(0,o.j0)("/order",n).then((function(e){r.hideLoader(),e.data?document.location="/order/"+e.data:r.showSnackBar(e.err)}))}else r.showSnackBar("Invalid CVC");else r.showSnackBar("Invalid card number")},className:"",children:[(0,n.jsx)(i.UP,{id:"name",label:"Name",placeholder:"Name",name:"name"}),(0,n.jsx)(i.UP,{id:"phone",label:"Phone number",placeholder:"Phone",name:"phone",type:"tel"}),(0,n.jsx)(i.UP,{id:"address",type:"address",label:"Delivery Address",placeholder:"Address",name:"address"}),(0,n.jsx)(i.UP,{id:"inscription",label:"Inscription",placeholder:"Inscription on cake",name:"inscription"}),(0,n.jsx)(i.UP,{id:"cardnumber",label:"Card Number",placeholder:"Card Number",name:"cardnumber",type:"number"}),(0,n.jsx)(i.UP,{id:"cvc",label:"CVC",placeholder:"CVC",name:"cvc",type:"number",info:"The 3 digit number and the back of your card"}),(0,n.jsx)(i.zx,{type:"submit",style:{width:"100%"},children:"Place Order"})]})]})})]}):(0,n.jsx)(i.aN,{})}}},function(e){e.O(0,[774,888,179],(function(){return r=2294,e(e.s=r);var r}));var r=e.O();_N_E=r}]);